<!doctype html>
<html lang="id" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SDN 01 Nambangan Lor</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }
    
    .card-hover {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .card-hover:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    }
    
    .icon-container {
      transition: all 0.3s ease;
    }
    
    .card-hover:hover .icon-container {
      transform: scale(1.1);
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }
    
    .float-animation {
      animation: float 6s ease-in-out infinite;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full">
  <div id="app" class="min-h-full w-full gradient-bg flex items-center justify-center p-6">
   <div class="max-w-6xl w-full"><!-- Header -->
    <div class="text-center mb-16 float-animation">
     <div class="inline-block mb-4">
      <svg class="w-20 h-20 mx-auto" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 14L11.8999 14.8999C11.4367 14.9766 11.0234 15.2465 10.7612 15.6431C10.499 16.0397 10.4099 16.5277 10.5138 16.9917L12 14ZM12 14L12.4862 13.0277C12.178 12.8801 11.822 12.8801 11.5138 13.0277L12 14ZM12 14L12.1001 14.8999C12.5633 14.9766 12.9766 14.7067 13.2388 14.3101C13.501 13.9135 13.5901 13.4255 13.4862 12.9615L12 14Z" fill="white" fill-opacity="0.3" /> <path d="M2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12Z" stroke="white" stroke-width="2" /> <path d="M12 6V14M12 14L8 11M12 14L16 11" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /> <path d="M8 18H16" stroke="white" stroke-width="2" stroke-linecap="round" />
      </svg>
     </div>
     <h1 id="schoolName" class="text-5xl font-bold text-white mb-3">SDN 01 Nambangan Lor</h1>
     <p id="schoolTagline" class="text-xl text-white text-opacity-90">Portal Digital Sekolah</p>
    </div><!-- Cards Grid -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8"><!-- Absensi Card --> <a href="https://nurkhamidae19.github.io/Absensi-Digital-Siswa-SDN-01-Nambangan-Lor/" target="_blank" rel="noopener noreferrer" class="block">
      <div class="card-hover bg-white rounded-2xl p-8 text-center shadow-xl">
       <div class="icon-container w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center">
        <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
       </div>
       <h3 id="absensiTitle" class="text-2xl font-semibold text-gray-800 mb-3">Absensi Digital</h3>
       <p id="absensiDesc" class="text-gray-600">Sistem absensi siswa online yang praktis dan efisien</p>
      </div></a> <!-- Asesmen Card --> <a href="https://nurkhamidae19.github.io/Asesmen-SDN-01-Nambangan-Lor/" target="_blank" rel="noopener noreferrer" class="block">
      <div class="card-hover bg-white rounded-2xl p-8 text-center shadow-xl">
       <div class="icon-container w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center">
        <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
        </svg>
       </div>
       <h3 id="asesmenTitle" class="text-2xl font-semibold text-gray-800 mb-3">Asesmen Digital</h3>
       <p id="asesmenDesc" class="text-gray-600">Platform asesmen dan evaluasi pembelajaran siswa</p>
      </div></a> <!-- Raport Card --> <a href="https://nurkhamidae19.github.io/Rapor-STS/" target="_blank" rel="noopener noreferrer" class="block">
      <div class="card-hover bg-white rounded-2xl p-8 text-center shadow-xl">
       <div class="icon-container w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center">
        <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
        </svg>
       </div>
       <h3 id="raportTitle" class="text-2xl font-semibold text-gray-800 mb-3">Raport PTS</h3>
       <p id="raportDesc" class="text-gray-600">Raport digital penilaian tengah semester</p>
      </div></a>
    </div><!-- Footer -->
    <div class="text-center mt-16 text-white text-opacity-80">
     <p id="footerText"></p>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      background_color: "#667eea",
      secondary_color: "#ffffff",
      text_color: "#1f2937",
      primary_action_color: "#3b82f6",
      secondary_action_color: "#8b5cf6",
      font_family: "Poppins",
      font_size: 16,
      school_name: "SDN 01 Nambangan Lor",
      school_tagline: "Portal Digital Sekolah",
      absensi_title: "Absensi Digital",
      absensi_desc: "Sistem absensi siswa online yang praktis dan efisien",
      asesmen_title: "Asesmen Digital",
      asesmen_desc: "Platform asesmen dan evaluasi pembelajaran siswa",
      raport_title: "Raport PTS",
      raport_desc: "Raport digital penilaian tengah semester"
    };

    async function onConfigChange(config) {
      const backgroundColor = config.background_color || defaultConfig.background_color;
      const secondaryColor = config.secondary_color || defaultConfig.secondary_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryActionColor = config.primary_action_color || defaultConfig.primary_action_color;
      const secondaryActionColor = config.secondary_action_color || defaultConfig.secondary_action_color;
      const fontFamily = config.font_family || defaultConfig.font_family;
      const fontSize = config.font_size || defaultConfig.font_size;

      // Apply background gradient
      const gradientEnd = adjustColorBrightness(backgroundColor, -20);
      document.getElementById('app').style.background = `linear-gradient(135deg, ${backgroundColor} 0%, ${gradientEnd} 100%)`;

      // Apply text colors
      document.getElementById('schoolName').style.color = secondaryColor;
      document.getElementById('schoolTagline').style.color = secondaryColor;
      document.getElementById('footerText').style.color = secondaryColor;

      // Apply card colors
      const cards = document.querySelectorAll('.card-hover');
      cards.forEach(card => {
        card.style.backgroundColor = secondaryColor;
      });

      const titles = document.querySelectorAll('h3');
      titles.forEach(title => {
        title.style.color = textColor;
      });

      const descriptions = document.querySelectorAll('.card-hover p');
      descriptions.forEach(desc => {
        desc.style.color = textColor;
      });

      // Apply icon colors
      const iconContainers = document.querySelectorAll('.icon-container');
      iconContainers[0].style.background = `linear-gradient(135deg, ${primaryActionColor}, ${adjustColorBrightness(primaryActionColor, -10)})`;
      iconContainers[1].style.background = `linear-gradient(135deg, ${secondaryActionColor}, ${adjustColorBrightness(secondaryActionColor, -10)})`;
      iconContainers[2].style.background = `linear-gradient(135deg, ${adjustColorBrightness(primaryActionColor, 20)}, ${adjustColorBrightness(primaryActionColor, 10)})`;

      // Apply font
      document.body.style.fontFamily = `'${fontFamily}', sans-serif`;

      // Apply font sizes
      document.getElementById('schoolName').style.fontSize = `${fontSize * 3.125}px`;
      document.getElementById('schoolTagline').style.fontSize = `${fontSize * 1.25}px`;
      document.getElementById('footerText').style.fontSize = `${fontSize}px`;
      titles.forEach(title => {
        title.style.fontSize = `${fontSize * 1.5}px`;
      });
      descriptions.forEach(desc => {
        desc.style.fontSize = `${fontSize}px`;
      });

      // Update text content
      document.getElementById('schoolName').textContent = config.school_name || defaultConfig.school_name;
      document.getElementById('schoolTagline').textContent = config.school_tagline || defaultConfig.school_tagline;
      document.getElementById('absensiTitle').textContent = config.absensi_title || defaultConfig.absensi_title;
      document.getElementById('absensiDesc').textContent = config.absensi_desc || defaultConfig.absensi_desc;
      document.getElementById('asesmenTitle').textContent = config.asesmen_title || defaultConfig.asesmen_title;
      document.getElementById('asesmenDesc').textContent = config.asesmen_desc || defaultConfig.asesmen_desc;
      document.getElementById('raportTitle').textContent = config.raport_title || defaultConfig.raport_title;
      document.getElementById('raportDesc').textContent = config.raport_desc || defaultConfig.raport_desc;
      
      // Update footer with current year
      const currentYear = new Date().getFullYear();
      document.getElementById('footerText').textContent = `Â© ${currentYear} SDN 01 Nambangan Lor.`;
    }

    function adjustColorBrightness(hex, percent) {
      const num = parseInt(hex.replace('#', ''), 16);
      const r = Math.max(0, Math.min(255, (num >> 16) + percent));
      const g = Math.max(0, Math.min(255, ((num >> 8) & 0x00FF) + percent));
      const b = Math.max(0, Math.min(255, (num & 0x0000FF) + percent));
      return `#${((r << 16) | (g << 8) | b).toString(16).padStart(6, '0')}`;
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => {
              config.background_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ background_color: value });
              }
            }
          },
          {
            get: () => config.secondary_color || defaultConfig.secondary_color,
            set: (value) => {
              config.secondary_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ secondary_color: value });
              }
            }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => {
              config.text_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ text_color: value });
              }
            }
          },
          {
            get: () => config.primary_action_color || defaultConfig.primary_action_color,
            set: (value) => {
              config.primary_action_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ primary_action_color: value });
              }
            }
          },
          {
            get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
            set: (value) => {
              config.secondary_action_color = value;
              if (window.elementSdk) {
                window.elementSdk.setConfig({ secondary_action_color: value });
              }
            }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => config.font_family || defaultConfig.font_family,
          set: (value) => {
            config.font_family = value;
            if (window.elementSdk) {
              window.elementSdk.setConfig({ font_family: value });
            }
          }
        },
        fontSizeable: {
          get: () => config.font_size || defaultConfig.font_size,
          set: (value) => {
            config.font_size = value;
            if (window.elementSdk) {
              window.elementSdk.setConfig({ font_size: value });
            }
          }
        }
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["school_name", config.school_name || defaultConfig.school_name],
        ["school_tagline", config.school_tagline || defaultConfig.school_tagline],
        ["absensi_title", config.absensi_title || defaultConfig.absensi_title],
        ["absensi_desc", config.absensi_desc || defaultConfig.absensi_desc],
        ["asesmen_title", config.asesmen_title || defaultConfig.asesmen_title],
        ["asesmen_desc", config.asesmen_desc || defaultConfig.asesmen_desc],
        ["raport_title", config.raport_title || defaultConfig.raport_title],
        ["raport_desc", config.raport_desc || defaultConfig.raport_desc]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c55d82454b8a19c',t:'MTc2OTY1OTQ1NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
